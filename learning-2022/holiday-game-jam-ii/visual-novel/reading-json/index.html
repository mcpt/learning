<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.110.0"><meta name=generator content="Relearn 2.9.2
"><meta name=description content><title>Reading JSON :: MCPT Learning Resources</title><link href=/css/nucleus.css?1677162216 rel=stylesheet><link href=/css/fontawesome-all.min.css?1677162216 rel=stylesheet><link href=/css/featherlight.min.css?1677162216 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1677162216 rel=stylesheet><link href=/css/auto-complete.css?1677162216 rel=stylesheet><link href=/css/theme.css?1677162216 rel=stylesheet><link href=/css/theme-mcpt.css?1677162216 rel=stylesheet><link href=/css/variant.css?1677162216 rel=stylesheet><link href=/css/print.css?1677162216 rel=stylesheet media=print><link href=/css/p5js.css?1677162216 rel=stylesheet><link href=/css/sidebar.css?1677162216 rel=stylesheet><script src=/js/jquery.min.js?1677162216></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style><script src=/js/p5.min.js></script></head><body data-url=/learning-2022/holiday-game-jam-ii/visual-novel/reading-json/><script>var index_url="/index.json",root_url="/",baseUri=root_url.replace(/\/$/,"")</script><nav id=sidebar><div id=header-wrapper><div id=header><a href=/><img src=https://mcpt.ca/static/icons/logo.png><br><span class=subheading>LEARNING</span></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script src=/js/lunr.min.js?1677162216></script>
<script src=/js/auto-complete.js?1677162216></script>
<script src=/js/search.js?1677162216></script></div><div id=homelinks><ul><li><a class=padding href=/><i class="fas fa-home"></i> Home</a></li></ul></div><div class=highlightable><ul class=topics><li data-nav-id=/learning-2021/ title="Learning 2021" class=dd-item><a href=/learning-2021/>Learning 2021</a><ul><li data-nav-id=/learning-2021/game-dev/ title="Game Series" class="dd-item alwaysopen"><a href=/learning-2021/game-dev/>Game Series</a><ul><li data-nav-id=/learning-2021/game-dev/leaderboard/ title=Leaderboard class=dd-item><a href=/learning-2021/game-dev/leaderboard/>Leaderboard</a></li><li data-nav-id=/learning-2021/game-dev/part-i/ title="Part I" class=dd-item><a href=/learning-2021/game-dev/part-i/><b>1.</b> Part I</a><ul><li data-nav-id=/learning-2021/game-dev/part-i/introduction/ title=Introduction class=dd-item><a href=/learning-2021/game-dev/part-i/introduction/>Introduction</a></li><li data-nav-id=/learning-2021/game-dev/part-i/draganddrop/ title="Drag And Drop" class=dd-item><a href=/learning-2021/game-dev/part-i/draganddrop/>Drag And Drop</a></li><li data-nav-id=/learning-2021/game-dev/part-i/towers/ title="Rotating Towers" class=dd-item><a href=/learning-2021/game-dev/part-i/towers/>Rotating Towers</a></li><li data-nav-id=/learning-2021/game-dev/part-i/pathforballoons/ title="Path For Balloons" class=dd-item><a href=/learning-2021/game-dev/part-i/pathforballoons/>Path For Balloons</a></li><li data-nav-id=/learning-2021/game-dev/part-i/challenge/ title="Challenge: Movement" class=dd-item><a href=/learning-2021/game-dev/part-i/challenge/>Challenge: Movement</a></li><li data-nav-id=/learning-2021/game-dev/part-i/updatingballoons/ title="Balloon Waves" class=dd-item><a href=/learning-2021/game-dev/part-i/updatingballoons/>Balloon Waves</a></li><li data-nav-id=/learning-2021/game-dev/part-i/healthchecking/ title="Health Bar" class=dd-item><a href=/learning-2021/game-dev/part-i/healthchecking/>Health Bar</a></li><li data-nav-id=/learning-2021/game-dev/part-i/towervaliditychecking/ title="Tower Validity Checking" class=dd-item><a href=/learning-2021/game-dev/part-i/towervaliditychecking/>Tower Validity Checking</a></li></ul></li><li data-nav-id=/learning-2021/game-dev/part-ii/ title="Part II" class=dd-item><a href=/learning-2021/game-dev/part-ii/><b>2.</b> Part II</a><ul><li data-nav-id=/learning-2021/game-dev/part-ii/introduction/ title=Introduction class=dd-item><a href=/learning-2021/game-dev/part-ii/introduction/>Introduction</a></li><li data-nav-id=/learning-2021/game-dev/part-ii/advancedtracking/ title="Advanced Tracking" class=dd-item><a href=/learning-2021/game-dev/part-ii/advancedtracking/>Advanced Tracking</a></li><li data-nav-id=/learning-2021/game-dev/part-ii/currency/ title="Currency System" class=dd-item><a href=/learning-2021/game-dev/part-ii/currency/>Currency System</a></li><li data-nav-id=/learning-2021/game-dev/part-ii/newtower/ title="New Towers" class=dd-item><a href=/learning-2021/game-dev/part-ii/newtower/>New Towers</a></li><li data-nav-id=/learning-2021/game-dev/part-ii/projectiles/ title=Projectiles class=dd-item><a href=/learning-2021/game-dev/part-ii/projectiles/>Projectiles</a></li></ul></li><li data-nav-id=/learning-2021/game-dev/part-iii/ title="Part III" class=dd-item><a href=/learning-2021/game-dev/part-iii/><b>3.</b> Part III</a><ul><li data-nav-id=/learning-2021/game-dev/part-iii/introduction/ title=Introduction class=dd-item><a href=/learning-2021/game-dev/part-iii/introduction/>Introduction</a></li><li data-nav-id=/learning-2021/game-dev/part-iii/currency/ title="More Currency" class=dd-item><a href=/learning-2021/game-dev/part-iii/currency/>More Currency</a></li><li data-nav-id=/learning-2021/game-dev/part-iii/upgrades/ title="Tower Upgrades" class=dd-item><a href=/learning-2021/game-dev/part-iii/upgrades/>Tower Upgrades</a></li><li data-nav-id=/learning-2021/game-dev/part-iii/userinterface/ title="User Interface" class=dd-item><a href=/learning-2021/game-dev/part-iii/userinterface/>User Interface</a></li><li data-nav-id=/learning-2021/game-dev/part-iii/makinglevels/ title="Making Levels" class=dd-item><a href=/learning-2021/game-dev/part-iii/makinglevels/>Making Levels</a></li><li data-nav-id=/learning-2021/game-dev/part-iii/pathcreationapi/ title="Path Creation API" class=dd-item><a href=/learning-2021/game-dev/part-iii/pathcreationapi/>Path Creation API</a></li><li data-nav-id=/learning-2021/game-dev/part-iii/powerups/ title=Powerups class=dd-item><a href=/learning-2021/game-dev/part-iii/powerups/>Powerups</a></li><li data-nav-id=/learning-2021/game-dev/part-iii/challenge/ title=Challenges class=dd-item><a href=/learning-2021/game-dev/part-iii/challenge/>Challenges</a></li></ul></li></ul></li><li data-nav-id=/learning-2021/game-jam/ title="Game Jam" class="dd-item alwaysopen"><a href=/learning-2021/game-jam/>Game Jam</a><ul><li data-nav-id=/learning-2021/game-jam/leaderboard/ title=Leaderboard class=dd-item><a href=/learning-2021/game-jam/leaderboard/>Leaderboard</a></li><li data-nav-id=/learning-2021/game-jam/tetris-workshop/ title="Tetris Workshop" class=dd-item><a href=/learning-2021/game-jam/tetris-workshop/>Tetris Workshop</a><ul><li data-nav-id=/learning-2021/game-jam/tetris-workshop/object-oriented-programming/ title="Object Oriented Programming" class=dd-item><a href=/learning-2021/game-jam/tetris-workshop/object-oriented-programming/>Object Oriented Programming</a></li><li data-nav-id=/learning-2021/game-jam/tetris-workshop/multi-dimensional-arrays/ title="Multi-Dimensional Arrays" class=dd-item><a href=/learning-2021/game-jam/tetris-workshop/multi-dimensional-arrays/>Multi-Dimensional Arrays</a></li><li data-nav-id=/learning-2021/game-jam/tetris-workshop/threads/ title=Multi-Threading class=dd-item><a href=/learning-2021/game-jam/tetris-workshop/threads/>Multi-Threading</a></li><li data-nav-id=/learning-2021/game-jam/tetris-workshop/tetris/ title=Tetris class=dd-item><a href=/learning-2021/game-jam/tetris-workshop/tetris/>Tetris</a></li></ul></li><li data-nav-id=/learning-2021/game-jam/jumpingphysics/ title="Jumping Physics Workshop" class=dd-item><a href=/learning-2021/game-jam/jumpingphysics/>Jumping Physics Workshop</a><ul><li data-nav-id=/learning-2021/game-jam/jumpingphysics/collisions/ title=Collisions class=dd-item><a href=/learning-2021/game-jam/jumpingphysics/collisions/>Collisions</a></li><li data-nav-id=/learning-2021/game-jam/jumpingphysics/jumpingphysics/ title="Jumping Physics" class=dd-item><a href=/learning-2021/game-jam/jumpingphysics/jumpingphysics/>Jumping Physics</a></li></ul></li><li data-nav-id=/learning-2021/game-jam/resources/ title=Resources class=dd-item><a href=/learning-2021/game-jam/resources/>Resources</a><ul><li data-nav-id=/learning-2021/game-jam/resources/github/ title="A Github Crash Course" class="dd-item alwaysopen"><a href=/learning-2021/game-jam/resources/github/>A Github Crash Course</a><ul></ul></li><li data-nav-id=/learning-2021/game-jam/resources/devpost-info/ title="Devpost Information" class="dd-item alwaysopen"><a href=/learning-2021/game-jam/resources/devpost-info/>Devpost Information</a><ul></ul></li><li data-nav-id=/learning-2021/game-jam/resources/tips/ title="Tips & Tricks" class="dd-item alwaysopen"><a href=/learning-2021/game-jam/resources/tips/>Tips & Tricks</a><ul></ul></li><li data-nav-id=/learning-2021/game-jam/resources/pitch/ title="Pitch Creation" class="dd-item alwaysopen"><a href=/learning-2021/game-jam/resources/pitch/>Pitch Creation</a><ul></ul></li></ul></li></ul></li><li data-nav-id=/learning-2021/lyon-hacks/ title=LyonHacks class="dd-item alwaysopen"><a href=/learning-2021/lyon-hacks/>LyonHacks</a><ul><li data-nav-id=/learning-2021/lyon-hacks/season-ii/ title="LyonHacks Season II" class="dd-item alwaysopen"><a href=/learning-2021/lyon-hacks/season-ii/>LyonHacks Season II</a><ul></ul></li><li data-nav-id=/learning-2021/lyon-hacks/legacy/ title="Legacy Events" class=dd-item><a href=/learning-2021/lyon-hacks/legacy/>Legacy Events</a><ul><li data-nav-id=/learning-2021/lyon-hacks/legacy/season-i/ title="Season I" class=dd-item><a href=/learning-2021/lyon-hacks/legacy/season-i/>Season I</a></li></ul></li></ul></li></ul></li><li data-nav-id=/learning-2022/ title="Learning 2022" class="dd-item parent"><a href=/learning-2022/>Learning 2022</a><ul><li data-nav-id=/learning-2022/holiday-game-jam-ii/ title="Holiday Game Jam II " class="dd-item parent alwaysopen"><a href=/learning-2022/holiday-game-jam-ii/>Holiday Game Jam II</a><ul><li data-nav-id=/learning-2022/holiday-game-jam-ii/stealing-christmas/ title="Platformer Game Workshop" class=dd-item><a href=/learning-2022/holiday-game-jam-ii/stealing-christmas/>Platformer Game Workshop</a><ul><li data-nav-id=/learning-2022/holiday-game-jam-ii/stealing-christmas/movement/ title="Basic Player Movement" class=dd-item><a href=/learning-2022/holiday-game-jam-ii/stealing-christmas/movement/>Basic Player Movement</a></li><li data-nav-id=/learning-2022/holiday-game-jam-ii/stealing-christmas/collisions/ title=Collisions class=dd-item><a href=/learning-2022/holiday-game-jam-ii/stealing-christmas/collisions/>Collisions</a></li><li data-nav-id=/learning-2022/holiday-game-jam-ii/stealing-christmas/physics/ title="Jumping Physics" class=dd-item><a href=/learning-2022/holiday-game-jam-ii/stealing-christmas/physics/>Jumping Physics</a></li></ul></li><li data-nav-id=/learning-2022/holiday-game-jam-ii/visual-novel/ title="Visual Novel Workshop" class="dd-item parent"><a href=/learning-2022/holiday-game-jam-ii/visual-novel/>Visual Novel Workshop</a><ul><li data-nav-id=/learning-2022/holiday-game-jam-ii/visual-novel/reading-json/ title="Reading JSON" class="dd-item active"><a href=/learning-2022/holiday-game-jam-ii/visual-novel/reading-json/>Reading JSON</a></li><li data-nav-id=/learning-2022/holiday-game-jam-ii/visual-novel/drawing-characters/ title="Drawing Characters" class=dd-item><a href=/learning-2022/holiday-game-jam-ii/visual-novel/drawing-characters/>Drawing Characters</a></li><li data-nav-id=/learning-2022/holiday-game-jam-ii/visual-novel/dialogue-writing/ title="Writing Dialogue" class=dd-item><a href=/learning-2022/holiday-game-jam-ii/visual-novel/dialogue-writing/>Writing Dialogue</a></li><li data-nav-id=/learning-2022/holiday-game-jam-ii/visual-novel/dialogue-options/ title="Dialogue Options" class=dd-item><a href=/learning-2022/holiday-game-jam-ii/visual-novel/dialogue-options/>Dialogue Options</a></li></ul></li><li data-nav-id=/learning-2022/holiday-game-jam-ii/resources/ title="Game Jam Resource Page" class="dd-item alwaysopen"><a href=/learning-2022/holiday-game-jam-ii/resources/>Game Jam Resource Page</a><ul><li data-nav-id=/learning-2022/holiday-game-jam-ii/resources/devpost-help/ title="Devpost Information" class="dd-item alwaysopen"><a href=/learning-2022/holiday-game-jam-ii/resources/devpost-help/>Devpost Information</a><ul></ul></li><li data-nav-id=/learning-2022/holiday-game-jam-ii/resources/github-tutorial/ title="GitHub Tutorial" class="dd-item alwaysopen"><a href=/learning-2022/holiday-game-jam-ii/resources/github-tutorial/>GitHub Tutorial</a><ul></ul></li></ul></li></ul></li><li data-nav-id=/learning-2022/game-development-workshop/ title="Game Dev Workshop" class="dd-item alwaysopen"><a href=/learning-2022/game-development-workshop/>Game Dev Workshop</a><ul><li data-nav-id=/learning-2022/game-development-workshop/partone/ title="Part One" class=dd-item><a href=/learning-2022/game-development-workshop/partone/>Part One</a></li></ul></li><li data-nav-id=/learning-2022/web-development-workshop/ title="Web Dev Workshop" class="dd-item alwaysopen"><a href=/learning-2022/web-development-workshop/>Web Dev Workshop</a><ul><li data-nav-id=/learning-2022/web-development-workshop/running-html-files/ title="Opening HTML Files in Your Browser" class="dd-item alwaysopen"><a href=/learning-2022/web-development-workshop/running-html-files/>Opening HTML Files in Your Browser</a><ul></ul></li><li data-nav-id=/learning-2022/web-development-workshop/editing-html-files/ title="Editing HTML Files" class="dd-item alwaysopen"><a href=/learning-2022/web-development-workshop/editing-html-files/>Editing HTML Files</a><ul></ul></li></ul></li></ul></li></ul><div id=footer><a href=https://mcpt.ca/><p><object type=image/svg+xml data=/img/footer-icon.svg></object>
mcpt.ca</p></a><a href=https://github.com/mcpt/learning><p><i class="fab fa-github-alt"></i> source</p></a></div></div></nav><div id=body><div id=overlay></div><div class="padding highlightable"><div id=top-bar><div id=breadcrumbs><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="5"><a itemprop=item href=/><span itemprop=name>Home</span></a> ></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="4"><a itemprop=item href=/learning-2022/><span itemprop=name>Learning 2022</span></a> ></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3"><a itemprop=item href=/learning-2022/holiday-game-jam-ii/><span itemprop=name>Holiday Game Jam II</span></a> ></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="2"><a itemprop=item href=/learning-2022/holiday-game-jam-ii/visual-novel/><span itemprop=name>Visual Novel Workshop</span></a> ></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="1"><a itemprop=item href=/learning-2022/holiday-game-jam-ii/visual-novel/reading-json/ aria-disabled=true><span itemprop=name>Reading JSON</span></a></li></ol></div><div class=progress><div class=wrapper><nav id=TableOfContents></nav></div></div></div><div id=head-tags></div><main id=body-inner><h1>Reading JSON</h1><hr><p>As a programmer, you never want to hard-code your data. You ideally want to abstract it and read it from a file. In this lesson, we&rsquo;ll teach you how to read from a JavaScript Object Notation (JSON) file in Processing.</p><h1 id=what-is-json>What is JSON?</h1><p>JSON is a format for storing data. It is identical to the code needed to create JavaScript Objects. Here&rsquo;s an example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;employees&#34;</span><span style=color:#f92672>:</span>[
</span></span><span style=display:flex><span>       {<span style=color:#e6db74>&#34;firstName&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;John&#34;</span>, <span style=color:#e6db74>&#34;lastName&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;Doe&#34;</span>},
</span></span><span style=display:flex><span>       {<span style=color:#e6db74>&#34;firstName&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;Anna&#34;</span>, <span style=color:#e6db74>&#34;lastName&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;Smith&#34;</span>},
</span></span><span style=display:flex><span>      {<span style=color:#e6db74>&#34;firstName&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;Peter&#34;</span>, <span style=color:#e6db74>&#34;lastName&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;Jones&#34;</span>}
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>As you can see, the object is declared using curly braces <code>{}</code>, and the array is declared using square braces <code>[]</code>. JSON requires all pieces of data to be stored in the format of <code>key:value</code>. The key is usually a string, but it can be an integer or another data type.</p><h1 id=reading-json>Reading JSON</h1><p>So, we&rsquo;ve got our JSON file all set up, let&rsquo;s use an example here:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;data&#34;</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;speaker&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Me&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;dialogue&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Hi!&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;speaker&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;You&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;dialogue&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Hi!&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;speaker&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Me&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;dialogue&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Hello!&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;successors&#34;</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#34;dialogue2.json&#34;</span>],
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;options&#34;</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#34;option1&#34;</span>]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>We structure this in a way to store the dialogue data, the &lsquo;successors&rsquo; of the dialogue, and the options associated with the dialogue&rsquo;s successors. A successor is the next dialogue file to be read from, and the options will be used when there is more than one successor.</p><p>From here, we want to read the data within the <code>"data"</code> key. We can load a JSON object in Processing using <code>loadJSONObject("dialogue1.json");</code> This will create a new <code>JSONObject</code> that holds the data of the <code>dialogue1.json</code> file. From here, we use different methods to access data.</p><p>But&mldr; We&rsquo;re lazy! We don&rsquo;t want to write out code every single time to access <code>"data"</code>, so we should make some functions to do it for us! First, let&rsquo;s create a function to read the speaker of a given array index.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>String <span style=color:#a6e22e>getSpeaker</span><span style=color:#f92672>(</span>JSONObject obj<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> index<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> obj<span style=color:#f92672>.</span><span style=color:#a6e22e>getJSONArray</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;data&#34;</span><span style=color:#f92672>).</span><span style=color:#a6e22e>getJSONObject</span><span style=color:#f92672>(</span>index<span style=color:#f92672>).</span><span style=color:#a6e22e>getString</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;speaker&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>We use the <code>getJSONArray()</code> method to get the array and get the <code>JSONObject</code> at the index we specify. Then we get the string with the key <code>"speaker"</code>.</p><p>Let&rsquo;s repeat this for the dialogue.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>String <span style=color:#a6e22e>getDialogue</span><span style=color:#f92672>(</span>JSONObject obj<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> index<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> obj<span style=color:#f92672>.</span><span style=color:#a6e22e>getJSONArray</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;data&#34;</span><span style=color:#f92672>).</span><span style=color:#a6e22e>getJSONObject</span><span style=color:#f92672>(</span>index<span style=color:#f92672>).</span><span style=color:#a6e22e>getString</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;dialogue&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>Pretty simple, right?</p><p>From here, we can get the successor array, and the options array.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>JSONArray <span style=color:#a6e22e>getSuccessors</span><span style=color:#f92672>(</span>JSONObject obj<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> obj<span style=color:#f92672>.</span><span style=color:#a6e22e>getJSONArray</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;successors&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>JSONArray <span style=color:#a6e22e>getOptions</span><span style=color:#f92672>(</span>JSONObject obj<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> obj<span style=color:#f92672>.</span><span style=color:#a6e22e>getJSONArray</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;options&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>A reminder that these methods return <code>JSONArray</code>s, and not regular arrays! <code>JSONArray</code>s are different, requiring you to use methods to access values.</p><p>Finally, we&rsquo;ll create a method to figure out how many pieces of dialogue are in the file.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>getDialogueLength</span><span style=color:#f92672>(</span>JSONObject obj<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> obj<span style=color:#f92672>.</span><span style=color:#a6e22e>getJSONArray</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;data&#34;</span><span style=color:#f92672>).</span><span style=color:#a6e22e>size</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>After this, we&rsquo;ve got everything we need! We can now read the dialogue from JSON! We can also read what the next dialogue file is, and what options will be presented to the user.</p><p>Second on our <code>TODO</code> list, drawing characters!</p><footer class=footline></footer></main></div><div id=navigation><a class="nav nav-prev" href=/learning-2022/holiday-game-jam-ii/visual-novel/ title="Visual Novel Workshop"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/learning-2022/holiday-game-jam-ii/visual-novel/drawing-characters/ title="Drawing Characters"><i class="fa fa-chevron-right"></i></a></div></div><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1677162216></script>
<script src=/js/perfect-scrollbar.min.js?1677162216></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1677162216></script>
<script src=/js/jquery.svg.pan.zoom.js?1677162216></script>
<script src=/js/featherlight.min.js?1677162216></script>
<script src=/js/modernizr.custom-3.6.0.js?1677162216></script>
<script src=/js/mermaid.min.js?1677162216></script>
<script>typeof mermaid!="undefined"&&typeof mermaid.mermaidAPI!="undefined"&&mermaid.mermaidAPI.initialize(Object.assign({securityLevel:"antiscript"},JSON.parse('{ "startOnLoad": true }'),{startOnLoad:!1}))</script><script src=/js/relearn.js?1677162216></script></body></html>