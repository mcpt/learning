<!doctype html><html lang=en class="js csstransforms3d">
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=generator content="Hugo 0.90.1">
<meta name=description content>
<title>Making Levels :: MCPT Learning Resources</title>
<link href=/css/nucleus.css?1639687791 rel=stylesheet>
<link href=/css/fontawesome-all.min.css?1639687791 rel=stylesheet>
<link href=/css/featherlight.min.css?1639687791 rel=stylesheet>
<link href=/css/perfect-scrollbar.min.css?1639687791 rel=stylesheet>
<link href=/css/auto-complete.css?1639687791 rel=stylesheet>
<link href=/css/theme.css?1639687791 rel=stylesheet>
<link href=/css/theme-mcpt.css?1639687791 rel=stylesheet>
<link href=/css/variant.css?1639687791 rel=stylesheet>
<link href=/css/print.css?1639687791 rel=stylesheet media=print>
<link href=/css/p5js.css?1639687791 rel=stylesheet>
<link href=/css/sidebar.css?1639687791 rel=stylesheet>
<script src=/js/p5.min.js></script>
<script src=/js/jquery.min.js?1639687791></script>
<style>:root #header+#content>#left>#rlblock_left{display:none!important}</style><style></style>
</head>
<body data-url=/game-dev/part-iii/makinglevels/>
<nav id=sidebar>
<div id=header-wrapper>
<div id=header>
<a href=/>
<img src=https://mcpt.ca/static/icons/logo.png>
<br>
<span class=subheading>LEARNING</span>
</a>
</div>
<div class=searchbox>
<label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span>
</div>
<script src=/js/lunr.min.js?1639687791></script>
<script src=/js/auto-complete.js?1639687791></script>
<script>var index_url="/index.json",root_url="/",baseUri=root_url.replace(/\/$/,'')</script>
<script src=/js/search.js?1639687791></script>
</div>
<div id=homelinks>
<ul>
<li>
<a class=padding href=/><i class="fas fa-home"></i> Home</a>
</li>
</ul>
</div>
<div class=highlightable>
<ul class=topics>
<li data-nav-id=/game-dev/ title="Game Series" class="dd-item parent"><a href=/game-dev/>Game Series</a><ul>
<li data-nav-id=/game-dev/leaderboard/ title=Leaderboard class=dd-item><a href=/game-dev/leaderboard/>Leaderboard</a></li>
<li data-nav-id=/game-dev/part-i/ title="Part I" class=dd-item><a href=/game-dev/part-i/><b>1.</b> Part I</a><ul>
<li data-nav-id=/game-dev/part-i/introduction/ title=Introduction class=dd-item><a href=/game-dev/part-i/introduction/>Introduction</a></li>
<li data-nav-id=/game-dev/part-i/draganddrop/ title="Drag And Drop" class=dd-item><a href=/game-dev/part-i/draganddrop/>Drag And Drop</a></li>
<li data-nav-id=/game-dev/part-i/towers/ title="Rotating Towers" class=dd-item><a href=/game-dev/part-i/towers/>Rotating Towers</a></li>
<li data-nav-id=/game-dev/part-i/pathforballoons/ title="Path For Balloons" class=dd-item><a href=/game-dev/part-i/pathforballoons/>Path For Balloons</a></li>
<li data-nav-id=/game-dev/part-i/challenge/ title="Challenge: Movement" class=dd-item><a href=/game-dev/part-i/challenge/>Challenge: Movement</a></li>
<li data-nav-id=/game-dev/part-i/updatingballoons/ title="Balloon Waves" class=dd-item><a href=/game-dev/part-i/updatingballoons/>Balloon Waves</a></li>
<li data-nav-id=/game-dev/part-i/healthchecking/ title="Health Bar" class=dd-item><a href=/game-dev/part-i/healthchecking/>Health Bar</a></li>
<li data-nav-id=/game-dev/part-i/towervaliditychecking/ title="Tower Validity Checking" class=dd-item><a href=/game-dev/part-i/towervaliditychecking/>Tower Validity Checking</a></li></ul></li>
<li data-nav-id=/game-dev/part-ii/ title="Part II" class=dd-item><a href=/game-dev/part-ii/><b>2.</b> Part II</a><ul>
<li data-nav-id=/game-dev/part-ii/introduction/ title=Introduction class=dd-item><a href=/game-dev/part-ii/introduction/>Introduction</a></li>
<li data-nav-id=/game-dev/part-ii/advancedtracking/ title="Advanced Tracking" class=dd-item><a href=/game-dev/part-ii/advancedtracking/>Advanced Tracking</a></li>
<li data-nav-id=/game-dev/part-ii/currency/ title="Currency System" class=dd-item><a href=/game-dev/part-ii/currency/>Currency System</a></li>
<li data-nav-id=/game-dev/part-ii/newtower/ title="New Towers" class=dd-item><a href=/game-dev/part-ii/newtower/>New Towers</a></li>
<li data-nav-id=/game-dev/part-ii/projectiles/ title=Projectiles class=dd-item><a href=/game-dev/part-ii/projectiles/>Projectiles</a></li></ul></li>
<li data-nav-id=/game-dev/part-iii/ title="Part III" class="dd-item parent"><a href=/game-dev/part-iii/><b>3.</b> Part III</a><ul>
<li data-nav-id=/game-dev/part-iii/introduction/ title=Introduction class=dd-item><a href=/game-dev/part-iii/introduction/>Introduction</a></li>
<li data-nav-id=/game-dev/part-iii/currency/ title="More Currency" class=dd-item><a href=/game-dev/part-iii/currency/>More Currency</a></li>
<li data-nav-id=/game-dev/part-iii/upgrades/ title="Tower Upgrades" class=dd-item><a href=/game-dev/part-iii/upgrades/>Tower Upgrades</a></li>
<li data-nav-id=/game-dev/part-iii/makinglevels/ title="Making Levels" class="dd-item active"><a href=/game-dev/part-iii/makinglevels/>Making Levels</a></li>
<li data-nav-id=/game-dev/part-iii/pathcreationapi/ title="Path Creation API" class=dd-item><a href=/game-dev/part-iii/pathcreationapi/>Path Creation API</a></li>
<li data-nav-id=/game-dev/part-iii/userinterface/ title="User Interface" class=dd-item><a href=/game-dev/part-iii/userinterface/>User Interface</a></li>
<li data-nav-id=/game-dev/part-iii/powerups/ title=Powerups class=dd-item><a href=/game-dev/part-iii/powerups/>Powerups</a></li>
<li data-nav-id=/game-dev/part-iii/challenge/ title=Challenges class=dd-item><a href=/game-dev/part-iii/challenge/>Challenges</a></li></ul></li></ul></li>
<li data-nav-id=/game-jam/ title="Game Jam" class=dd-item><a href=/game-jam/>Game Jam</a><ul></ul></li>
<li data-nav-id=/lyon-hacks/ title=LyonHacks class=dd-item><a href=/lyon-hacks/>LyonHacks</a><ul>
<li data-nav-id=/lyon-hacks/season-i/ title="Season I" class="dd-item alwaysopen"><a href=/lyon-hacks/season-i/>Season I</a><ul></ul></li>
<li data-nav-id=/lyon-hacks/season-ii/ title="Season II" class="dd-item alwaysopen"><a href=/lyon-hacks/season-ii/>Season II</a><ul></ul></li></ul></li>
</ul>
<div id=footer><a href=https://mcpt.ca/>
<p>
<object type=image/svg+xml data=/img/footer-icon.svg></object>
mcpt.ca
</p>
</a>
<a href=https://github.com/mcpt/learning><p><i class="fab fa-github-alt"></i> source</p></a>
</div>
</div>
</nav>
<div id=body>
<div id=overlay></div>
<div class="padding highlightable">
<div id=top-bar>
<div id=breadcrumbs>
<span id=sidebar-toggle-span>
<a href=# id=sidebar-toggle data-sidebar-toggle>
<i class="fas fa-bars"></i>
</a>
</span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<ol class=links itemscope itemtype=http://schema.org/BreadcrumbList>
<meta itemprop=itemListOrder content="Descending">
<li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="4"><a itemprop=item href=/><span itemprop=name>Home</span></a> > </li>
<li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3"><a itemprop=item href=/game-dev/><span itemprop=name>Game Series</span></a> > </li>
<li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="2"><a itemprop=item href=/game-dev/part-iii/><span itemprop=name>Part III</span></a> > </li>
<li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="1"><a itemprop=item href=/game-dev/part-iii/makinglevels/ aria-disabled=true><span itemprop=name>Making Levels</span></a></li>
</ol>
</div>
<div class=progress>
<div class=wrapper>
<nav id=TableOfContents>
<ul>
<li>
<ul>
<li><a href=#making-levels>Making Levels</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div id=head-tags>
</div>
<main id=body-inner>
<h1>Making Levels</h1>
<hr>
<div class="attachments blue">
<div class=label>Powerups Template Code</div>
<ul class=attachments-files>
<li><a href=/game-dev/part-iii/MakingLevels.files/APIs.zip>APIs.zip</a> (21 KB)</li>
</ul>
</div>
<h3 id=making-levels>Making Levels</h3>
<p>Now that we are in the 3rd session, some levels in the game are long overdue. Now that we are more familiar with the concept of arrays and arraylists, let’s see how we can implement them</p>
<div class="notices info">
<div class=label>Key Concepts</div><ol>
<li>How do we represent a level in code? And how do we store information for it?</li>
<li>What happens when a level is being played, and when a level isn&rsquo;t being played?</li>
<li>How can we generate levels easily?</li>
</ol>
</div>
<h5 id=representing-a-level-in-code>Representing a level in code</h5>
<p>Before we get to coding anything, we must understand what a level actually is. In bloons tower defense, levels are best defined by the balloon wave that you must pop. For example, in level 1, there are weak balloons that you must pop. In level 2, the balloons are stronger and more numerous. This trend continues as you move to higher and higher levels.</p>
<p>We already have 1 default level that starts immediately when you open the game. What we need to do now is make many distinct levels, and have some control over when each level starts.</p>
<h5 id=making-many-levels>Making many levels.</h5>
<p>As you might have seen from previous lessons, a single balloon is represented by an array of floats, which is a list of values that contain information about the position and state of the balloon. These float arrays were then stored in a larger, master array, which contained all the “balloons” for the default level.</p>
<p>You can thing of it kind of like a folder/file system</p>
<p><img src=/img/ArrayVisual1.png alt=Interface></p>
<p>Now, you could say we need a larger “folder” to store many level folders that contain balloon data. In other words, we need a bigger container that will store each level</p>
<p><img src=/img/ArrayVisual2.png alt=Interface></p>
<p>To do this, we can make some new arrays similar to the default level, and put all of those arrays into a larger array, called levels. We can represent this structure using a 3D array.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java>ArrayList<span style=color:#f92672>&lt;</span>ArrayList<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>float</span><span style=color:#f92672>[]&gt;&gt;</span> levels <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span>
ArrayList<span style=color:#f92672>&lt;</span>                   ArrayList<span style=color:#f92672>&lt;</span>            <span style=color:#66d9ef>float</span><span style=color:#f92672>[]&gt;&gt;();</span>
<span style=color:#75715e>/*Main “levels folder”      //A Level folder      //List of balloon
</span><span style=color:#75715e>which can store many          which can store       information that
</span><span style=color:#75715e>levels                        many balloons         defines a balloon
</span><span style=color:#75715e>*/</span>
</code></pre></div><p>We also need to control what can happen when a level is and isn&rsquo;t being played. For that, we have a boolean isPlaying variable, which disables certain features when false. For example, if a person is not playing yet, the code for <em>tower tracking</em> and <em>projectile creation</em> are essentially turned off, which makes sense since there are no balloons to turn to and shoot new projectiles at. The isPlaying variable is turned to true when the “next level” button pressed, and false when there are no more balloons in the level.</p>
<h5 id=levels-api>Levels API</h5>
<p>Now, a way to quickly create balloons for a level would be very nice if you wanted to make a playable game. For that, we have another, very simple API which you can use in the createWaves function in Balloons.pde.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>createWaves</span><span style=color:#f92672>(){</span>
<span style=color:#75715e>//1
</span><span style=color:#75715e></span>createLevels<span style=color:#f92672>(</span>numberOfLevels<span style=color:#f92672>);</span>

<span style=color:#75715e>//2
</span><span style=color:#75715e></span>createBalloons<span style=color:#f92672>(</span>
    levelTheBalloonsAreFor<span style=color:#f92672>,</span>
    numberOfBalloons<span style=color:#f92672>,</span>
    delayOfTheFirstBalloon<span style=color:#f92672>,</span>
    delayBetweenBalloons<span style=color:#f92672>,</span>
    speedOfTheBalloons<span style=color:#f92672>,</span>
    hP
    <span style=color:#f92672>);</span>
<span style=color:#f92672>}</span>
</code></pre></div><p>The first function, <strong>createLevels()</strong>, will help determine how many levels there are in your game. Once you have called/used this function, you can call the <strong>createBalloons()</strong> function to make balloons for a specific level. First, you specify the level you want to assign balloons to (starting from 0, since we are dealing with arrays!). Then you specify the number of balloons and the first balloon’s delay, which essentially controls when this collection of balloons will appear on the screen. Then you can tell the function the delay between the balloons, which controls how spaced apart they are, and also the speed and hp of each balloon.</p>
<p>And there you go! Now you can create your own levels!</p>
<footer class=footline>
</footer>
</main>
</div>
<div id=navigation>
<a class="nav nav-prev" href=/game-dev/part-iii/upgrades/ title="Tower Upgrades"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/game-dev/part-iii/pathcreationapi/ title="Path Creation API"><i class="fa fa-chevron-right"></i></a>
</div>
</div>
<div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px>
<div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div>
</div>
<script src=/js/clipboard.min.js?1639687791></script>
<script src=/js/perfect-scrollbar.min.js?1639687791></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1639687791></script>
<script src=/js/jquery.svg.pan.zoom.js?1639687791></script>
<script src=/js/featherlight.min.js?1639687791></script>
<script src=/js/modernizr.custom-3.6.0.js?1639687791></script>
<script src=/js/mermaid.min.js?1639687791></script>
<script>typeof mermaid!='undefined'&&mermaid.mermaidAPI.initialize(Object.assign({securityLevel:"antiscript"},JSON.parse('{ "startOnLoad": true }'),{startOnLoad:!1}))</script>
<script src=/js/relearn.js?1639687791></script>
</body>
</html>