<!doctype html><html lang=en class="js csstransforms3d">
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=generator content="Hugo 0.89.4">
<meta name=description content>
<title>New Towers :: MCPT Learning Resources</title>
<link href=/css/nucleus.css?1638547609 rel=stylesheet>
<link href=/css/fontawesome-all.min.css?1638547609 rel=stylesheet>
<link href=/css/featherlight.min.css?1638547609 rel=stylesheet>
<link href=/css/perfect-scrollbar.min.css?1638547609 rel=stylesheet>
<link href=/css/auto-complete.css?1638547609 rel=stylesheet>
<link href=/css/theme.css?1638547609 rel=stylesheet>
<link href=/css/theme-mcpt.css?1638547609 rel=stylesheet>
<link href=/css/variant.css?1638547609 rel=stylesheet>
<link href=/css/print.css?1638547609 rel=stylesheet media=print>
<link href=/css/p5js.css?1638547609 rel=stylesheet>
<link href=/css/sidebar.css?1638547609 rel=stylesheet>
<script src=/js/p5.min.js></script>
<script src=/js/jquery.min.js?1638547609></script>
<style>:root #header+#content>#left>#rlblock_left{display:none!important}</style><style></style>
</head>
<body data-url=/game-dev/part-ii/newtower/>
<nav id=sidebar>
<div id=header-wrapper>
<div id=header>
<a href=/>
<img src=https://mcpt.ca/static/icons/logo.png>
<br>
<span class=subheading>LEARNING</span>
</a>
</div>
<div class=searchbox>
<label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span>
</div>
<script src=/js/lunr.min.js?1638547609></script>
<script src=/js/auto-complete.js?1638547609></script>
<script>var index_url="/index.json",root_url="/",baseUri=root_url.replace(/\/$/,'')</script>
<script src=/js/search.js?1638547609></script>
</div>
<div id=homelinks>
<ul>
<li>
<a class=padding href=/><i class="fas fa-home"></i> Home</a>
</li>
</ul>
</div>
<div class=highlightable>
<ul class=topics>
<li data-nav-id=/game-dev/ title="Game Series" class="dd-item parent"><a href=/game-dev/>Game Series</a><ul>
<li data-nav-id=/game-dev/leaderboard/ title=Leaderboard class=dd-item><a href=/game-dev/leaderboard/>Leaderboard</a></li>
<li data-nav-id=/game-dev/part-i/ title="Part I" class=dd-item><a href=/game-dev/part-i/><b>1.</b> Part I</a><ul>
<li data-nav-id=/game-dev/part-i/introduction/ title=Introduction class=dd-item><a href=/game-dev/part-i/introduction/>Introduction</a></li>
<li data-nav-id=/game-dev/part-i/draganddrop/ title="Drag And Drop" class=dd-item><a href=/game-dev/part-i/draganddrop/>Drag And Drop</a></li>
<li data-nav-id=/game-dev/part-i/towers/ title="Rotating Towers" class=dd-item><a href=/game-dev/part-i/towers/>Rotating Towers</a></li>
<li data-nav-id=/game-dev/part-i/pathforballoons/ title="Path For Balloons" class=dd-item><a href=/game-dev/part-i/pathforballoons/>Path For Balloons</a></li>
<li data-nav-id=/game-dev/part-i/challenge/ title="Challenge: Movement" class=dd-item><a href=/game-dev/part-i/challenge/>Challenge: Movement</a></li>
<li data-nav-id=/game-dev/part-i/updatingballoons/ title="Balloon Waves" class=dd-item><a href=/game-dev/part-i/updatingballoons/>Balloon Waves</a></li>
<li data-nav-id=/game-dev/part-i/healthchecking/ title="Health Bar" class=dd-item><a href=/game-dev/part-i/healthchecking/>Health Bar</a></li>
<li data-nav-id=/game-dev/part-i/towervaliditychecking/ title="Tower Validity Checking" class=dd-item><a href=/game-dev/part-i/towervaliditychecking/>Tower Validity Checking</a></li></ul></li>
<li data-nav-id=/game-dev/part-ii/ title="Part II" class="dd-item parent"><a href=/game-dev/part-ii/><b>2.</b> Part II</a><ul>
<li data-nav-id=/game-dev/part-ii/introduction/ title=Introduction class=dd-item><a href=/game-dev/part-ii/introduction/>Introduction</a></li>
<li data-nav-id=/game-dev/part-ii/advancedtracking/ title="Advanced Tracking" class=dd-item><a href=/game-dev/part-ii/advancedtracking/>Advanced Tracking</a></li>
<li data-nav-id=/game-dev/part-ii/currency/ title="Currency System" class=dd-item><a href=/game-dev/part-ii/currency/>Currency System</a></li>
<li data-nav-id=/game-dev/part-ii/newtower/ title="New Towers" class="dd-item active"><a href=/game-dev/part-ii/newtower/>New Towers</a></li>
<li data-nav-id=/game-dev/part-ii/projectiles/ title=Projectiles class=dd-item><a href=/game-dev/part-ii/projectiles/>Projectiles</a></li></ul></li>
<li data-nav-id=/game-dev/part-iii/ title="Part III" class="dd-item alwaysopen"><a href=/game-dev/part-iii/><b>3.</b> Part III</a><ul></ul></li></ul></li>
<li data-nav-id=/game-jam/ title="Game Jam" class=dd-item><a href=/game-jam/>Game Jam</a><ul></ul></li>
<li data-nav-id=/lyon-hacks/ title=LyonHacks class=dd-item><a href=/lyon-hacks/>LyonHacks</a><ul>
<li data-nav-id=/lyon-hacks/season-i/ title="Season I" class="dd-item alwaysopen"><a href=/lyon-hacks/season-i/>Season I</a><ul></ul></li>
<li data-nav-id=/lyon-hacks/season-ii/ title="Season II" class="dd-item alwaysopen"><a href=/lyon-hacks/season-ii/>Season II</a><ul></ul></li></ul></li>
<li data-nav-id=/mentorship/ title=Mentorship class=dd-item><a href=/mentorship/>Mentorship</a><ul></ul></li>
</ul>
<div id=footer><a href=https://mcpt.ca/>
<p>
<object type=image/svg+xml data=/img/footer-icon.svg></object>
mcpt.ca
</p>
</a>
<a href=https://github.com/mcpt/learning><p><i class="fab fa-github-alt"></i> source</p></a>
</div>
</div>
</nav>
<div id=body>
<div id=overlay></div>
<div class="padding highlightable">
<div id=top-bar>
<div id=breadcrumbs>
<span id=sidebar-toggle-span>
<a href=# id=sidebar-toggle data-sidebar-toggle>
<i class="fas fa-bars"></i>
</a>
</span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<ol class=links itemscope itemtype=http://schema.org/BreadcrumbList>
<meta itemprop=itemListOrder content="Descending">
<li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="4"><a itemprop=item href=/><span itemprop=name>Home</span></a> > </li>
<li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3"><a itemprop=item href=/game-dev/><span itemprop=name>Game Series</span></a> > </li>
<li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="2"><a itemprop=item href=/game-dev/part-ii/><span itemprop=name>Part II</span></a> > </li>
<li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="1"><a itemprop=item href=/game-dev/part-ii/newtower/ aria-disabled=true><span itemprop=name>New Towers</span></a></li>
</ol>
</div>
<div class=progress>
<div class=wrapper>
<nav id=TableOfContents>
<ul>
<li>
<ul>
<li><a href=#support-for-new-towers>Support for New Towers</a></li>
<li><a href=#tldr>TL;DR</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div id=head-tags>
</div>
<main id=body-inner>
<h1>New Towers</h1>
<hr>
<div class="attachments red">
<div class=label>Part2_NewTowerTemplate</div>
<ul class=attachments-files>
<li><a href=/game-dev/part-ii/newtower.files/NewTowerTemplate.zip>NewTowerTemplate.zip</a> (8 KB)</li>
</ul>
</div>
<h3 id=support-for-new-towers>Support for New Towers</h3>
<p>Part I used only one type of tower, and it was hard-coded into our system. Our program had no support for updating or changing the type of tower, since it assumed there was only one type. Usually, we would use <strong><a href=https://en.wikipedia.org/wiki/Object-oriented_programming>Object Oriented Programming</a></strong>, but this topic isn’t taught until ICS3U. Instead, we’ll try to simplify it into something that is less organized but doesn’t require a whole new topic of programming.</p>
<p>We want to support multiple types of towers in our improved program. To do this, we decided to map every type of tower to an integer. The three types of towers that we decided to create are the <strong>default</strong> tower (the default tower we used before), the <strong>eight-shot</strong> tower (similar to the tack shooter in BTD), and the <strong>slow</strong> tower, which slows targets (similar to the glue gunner). We mapped default to <code>0</code>, eight-shot to <code>1</code>, and slow to <code>2</code>.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>final</span> <span style=color:#66d9ef>int</span> def <span style=color:#f92672>=</span> 0<span style=color:#f92672>,</span> eight <span style=color:#f92672>=</span> 1<span style=color:#f92672>,</span> slow <span style=color:#f92672>=</span> 2<span style=color:#f92672>;</span>
</code></pre></div><h4 id=updating-drag-and-drop>Updating Drag and Drop</h4>
<p>In Part I, we taught how to implement drag and drop on a singular tower. To change this to support multiple towers, let’s create some new things. First, let’s create a boolean array of size 3, with indices 0, 1 and 2 representing our towers above. When making your own towers, your array is not limited to size 3 and can be any size you want. Essentially, this array will hold the values of which tower is being held right now.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#75715e>//values of which tower is being held
</span><span style=color:#75715e>//for example, if index 1 is true, then we are holding the eight-shot tower
</span><span style=color:#75715e></span><span style=color:#66d9ef>boolean</span><span style=color:#f92672>[]</span> held <span style=color:#f92672>=</span> <span style=color:#f92672>{</span><span style=color:#66d9ef>false</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>};</span> 
</code></pre></div><p>Let’s also create a variable called <code>currentlyDragging</code>. This will hold the index of the boolean array above that is true. In other words, it will hold the value of the tower we are currently draggin (0 for default, 1 for eight-shot, 2 for slow). Alongside this, let’s create two arrays of PVectors, named <code>originalLocations</code> and <code>dragAndDropLocations</code>. The first one represents the locations where you are supposed to drag the towers from, whereas the second represents where our current tower is right now. Let’s also create <code>towerPrice</code> and <code>towerColours</code>, which are the prices of the towers and the colours of the towers, respectively.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>
<span style=color:#66d9ef>int</span> currentlyDragging <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>1<span style=color:#f92672>;</span> <span style=color:#75715e>// -1 = no tower, 0 = within default, 1 = within eight, 2 = within slow
</span><span style=color:#75715e></span><span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> towerPrice <span style=color:#f92672>=</span> <span style=color:#f92672>{</span>100<span style=color:#f92672>,</span> 200<span style=color:#f92672>,</span> 200<span style=color:#f92672>};</span>
color<span style=color:#f92672>[]</span> towerColours <span style=color:#f92672>=</span> <span style=color:#f92672>{</span><span style=color:#960050;background-color:#1e0010>#</span>7b9d32<span style=color:#f92672>,</span> <span style=color:#960050;background-color:#1e0010>#</span>F098D7<span style=color:#f92672>,</span> <span style=color:#960050;background-color:#1e0010>#</span>82E5F7<span style=color:#f92672>};</span>
PVector<span style=color:#f92672>[]</span> originalLocations <span style=color:#f92672>=</span> <span style=color:#f92672>{</span><span style=color:#66d9ef>new</span> PVector<span style=color:#f92672>(</span>650<span style=color:#f92672>,</span> 50<span style=color:#f92672>),</span> <span style=color:#66d9ef>new</span> PVector<span style=color:#f92672>(</span>700<span style=color:#f92672>,</span> 50<span style=color:#f92672>),</span> <span style=color:#66d9ef>new</span> PVector<span style=color:#f92672>(</span>750<span style=color:#f92672>,</span> 50<span style=color:#f92672>)};</span> 
PVector<span style=color:#f92672>[]</span> dragAndDropLocations <span style=color:#f92672>=</span> <span style=color:#f92672>{</span><span style=color:#66d9ef>new</span> PVector<span style=color:#f92672>(</span>650<span style=color:#f92672>,</span> 50<span style=color:#f92672>),</span> <span style=color:#66d9ef>new</span> PVector<span style=color:#f92672>(</span>700<span style=color:#f92672>,</span> 50<span style=color:#f92672>),</span> <span style=color:#66d9ef>new</span> PVector<span style=color:#f92672>(</span>750<span style=color:#f92672>,</span> 50<span style=color:#f92672>)};</span> 
<span style=color:#75715e>//notice indices 0, 1 and 2 correspond to the default, eight-shot and slow towers respectively
</span></code></pre></div><p>Using these, we can change how our drag and drop functions. Instead of checking just one location, we can check for all the locations in our <code>originalLocations</code> array. Then, we can edit the values in <code>dragAndDropLocations</code> according to the tower we picked up. For example, if we pick up the freeze tower and bring it to coordinates <code>(400, 39)</code>, then our new dragAndDropLocations would be as follows.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#75715e>/*values for dragAndDropLocations:
</span><span style=color:#75715e>  index:      0          1          2        
</span><span style=color:#75715e>  value:  (650, 60)  (700, 50)  (400, 39)
</span><span style=color:#75715e>*/</span>
dragAndDropLocations <span style=color:#f92672>=</span> <span style=color:#f92672>{</span><span style=color:#66d9ef>new</span> PVector<span style=color:#f92672>(</span>650<span style=color:#f92672>,</span> 50<span style=color:#f92672>),</span> <span style=color:#66d9ef>new</span> PVector<span style=color:#f92672>(</span>700<span style=color:#f92672>,</span> 50<span style=color:#f92672>),</span> <span style=color:#66d9ef>new</span> PVector<span style=color:#f92672>(</span>400<span style=color:#f92672>,</span> 39<span style=color:#f92672>)};</span>
</code></pre></div><p>Note that we did not have an array for size as all of our towers are the same size. We’ll leave this implementation as an exercise to the reader.</p>
<h4 id=new-tower-data>New Tower Data</h4>
<p>Previously, we had just used a PVector ArrayList holding all the values of the <code>(x, y)</code> coordinates of our towers. Now, we also want to create an ArrayList storing the different values of our towers. Notice how we had previously used indices to represent our towers, using indices <code>0</code>, <code>1,</code> and <code>2</code> to represent our default, eight-shot and slow towers, respectively. Let&rsquo;s use the same concept here on our ArrayLists. Since we want to store multiple values, let&rsquo;s make our ArrayList of type integer array. That is, let&rsquo;s create an ArrayList of integer arrays.</p>
<p>In our program, integers in the array represent the cooldown between the next projectile, the maximum cooldown, the range, and the projectile ID. We can then loop through these arrays similarily to what we did before, and apply the changes to the towers currently on our map. Here is how our tower data is made. Remember that you can play around with these values to create different types of towers.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> <span style=color:#a6e22e>makeTowerData</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> towerID<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
  <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>towerID <span style=color:#f92672>==</span> def<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> <span style=color:#f92672>{</span>
      10<span style=color:#f92672>,</span> <span style=color:#75715e>// Cooldown between next projectile
</span><span style=color:#75715e></span>      10<span style=color:#f92672>,</span> <span style=color:#75715e>// Max cooldown
</span><span style=color:#75715e></span>      towerVisions<span style=color:#f92672>[</span>def<span style=color:#f92672>],</span> <span style=color:#75715e>// Tower Vision
</span><span style=color:#75715e></span>      0 <span style=color:#75715e>// Projectile ID
</span><span style=color:#75715e></span>    <span style=color:#f92672>};</span>
  <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>towerID <span style=color:#f92672>==</span> eight<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> <span style=color:#f92672>{</span>
      25<span style=color:#f92672>,</span> <span style=color:#75715e>// Cooldown between next projectile
</span><span style=color:#75715e></span>      25<span style=color:#f92672>,</span> <span style=color:#75715e>// Max cooldown
</span><span style=color:#75715e></span>      towerVisions<span style=color:#f92672>[</span>eight<span style=color:#f92672>],</span> <span style=color:#75715e>// Tower Vision
</span><span style=color:#75715e></span>      1 <span style=color:#75715e>// Projectile ID
</span><span style=color:#75715e></span>    <span style=color:#f92672>};</span>
  <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>towerID <span style=color:#f92672>==</span> slow<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> <span style=color:#f92672>{</span>
      35<span style=color:#f92672>,</span>
      35<span style=color:#f92672>,</span>
      towerVisions<span style=color:#f92672>[</span>slow<span style=color:#f92672>],</span> <span style=color:#75715e>// Tower Vision
</span><span style=color:#75715e></span>      2
    <span style=color:#f92672>};</span>
  <span style=color:#f92672>}</span>
  <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> <span style=color:#f92672>{};</span> <span style=color:#75715e>//filler since we need to return something
</span><span style=color:#75715e></span><span style=color:#f92672>}</span>
</code></pre></div><h3 id=tldr>TL;DR</h3>
<p>To create new towers, use arrays with each index representing values for that type of tower. All of the original drag and drop methods now ahve a parameter <strong>towerID</strong> passed into them corresponding to which of the three is currently being dragged/dropped. Alternatively, you can use <strong><a href=https://en.wikipedia.org/wiki/Object-oriented_programming>Object Oriented Programming</a></strong>.</p>
<footer class=footline>
</footer>
</main>
</div>
<div id=navigation>
<a class="nav nav-prev" href=/game-dev/part-ii/currency/ title="Currency System"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/game-dev/part-ii/projectiles/ title=Projectiles><i class="fa fa-chevron-right"></i></a>
</div>
</div>
<div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px>
<div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div>
</div>
<script src=/js/clipboard.min.js?1638547609></script>
<script src=/js/perfect-scrollbar.min.js?1638547609></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1638547609></script>
<script src=/js/jquery.svg.pan.zoom.js?1638547609></script>
<script src=/js/featherlight.min.js?1638547609></script>
<script src=/js/modernizr.custom-3.6.0.js?1638547609></script>
<script src=/js/mermaid.min.js?1638547609></script>
<script>typeof mermaid!='undefined'&&mermaid.mermaidAPI.initialize(Object.assign({securityLevel:"antiscript"},JSON.parse('{ "startOnLoad": true }'),{startOnLoad:!1}))</script>
<script src=/js/relearn.js?1638547609></script>
</body>
</html>