<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.109.0"><meta name=generator content="Relearn 2.9.2
"><meta name=description content><title>Advanced Tracking :: MCPT Learning Resources</title><link href=/css/nucleus.css?1672033900 rel=stylesheet><link href=/css/fontawesome-all.min.css?1672033900 rel=stylesheet><link href=/css/featherlight.min.css?1672033900 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1672033900 rel=stylesheet><link href=/css/auto-complete.css?1672033900 rel=stylesheet><link href=/css/theme.css?1672033900 rel=stylesheet><link href=/css/theme-mcpt.css?1672033900 rel=stylesheet><link href=/css/variant.css?1672033900 rel=stylesheet><link href=/css/print.css?1672033900 rel=stylesheet media=print><link href=/css/p5js.css?1672033900 rel=stylesheet><link href=/css/sidebar.css?1672033900 rel=stylesheet><script src=/js/jquery.min.js?1672033900></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style><script src=/js/p5.min.js></script></head><body data-url=/learning-2021/game-dev/part-ii/advancedtracking/><script>var index_url="/index.json",root_url="/",baseUri=root_url.replace(/\/$/,"")</script><nav id=sidebar><div id=header-wrapper><div id=header><a href=/><img src=https://mcpt.ca/static/icons/logo.png><br><span class=subheading>LEARNING</span></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script src=/js/lunr.min.js?1672033900></script>
<script src=/js/auto-complete.js?1672033900></script>
<script src=/js/search.js?1672033900></script></div><div id=homelinks><ul><li><a class=padding href=/><i class="fas fa-home"></i> Home</a></li></ul></div><div class=highlightable><ul class=topics><li data-nav-id=/learning-2021/ title="Learning 2021" class="dd-item parent"><a href=/learning-2021/>Learning 2021</a><ul><li data-nav-id=/learning-2021/game-dev/ title="Game Series" class="dd-item parent alwaysopen"><a href=/learning-2021/game-dev/>Game Series</a><ul><li data-nav-id=/learning-2021/game-dev/leaderboard/ title=Leaderboard class=dd-item><a href=/learning-2021/game-dev/leaderboard/>Leaderboard</a></li><li data-nav-id=/learning-2021/game-dev/part-i/ title="Part I" class=dd-item><a href=/learning-2021/game-dev/part-i/><b>1.</b> Part I</a><ul><li data-nav-id=/learning-2021/game-dev/part-i/introduction/ title=Introduction class=dd-item><a href=/learning-2021/game-dev/part-i/introduction/>Introduction</a></li><li data-nav-id=/learning-2021/game-dev/part-i/draganddrop/ title="Drag And Drop" class=dd-item><a href=/learning-2021/game-dev/part-i/draganddrop/>Drag And Drop</a></li><li data-nav-id=/learning-2021/game-dev/part-i/towers/ title="Rotating Towers" class=dd-item><a href=/learning-2021/game-dev/part-i/towers/>Rotating Towers</a></li><li data-nav-id=/learning-2021/game-dev/part-i/pathforballoons/ title="Path For Balloons" class=dd-item><a href=/learning-2021/game-dev/part-i/pathforballoons/>Path For Balloons</a></li><li data-nav-id=/learning-2021/game-dev/part-i/challenge/ title="Challenge: Movement" class=dd-item><a href=/learning-2021/game-dev/part-i/challenge/>Challenge: Movement</a></li><li data-nav-id=/learning-2021/game-dev/part-i/updatingballoons/ title="Balloon Waves" class=dd-item><a href=/learning-2021/game-dev/part-i/updatingballoons/>Balloon Waves</a></li><li data-nav-id=/learning-2021/game-dev/part-i/healthchecking/ title="Health Bar" class=dd-item><a href=/learning-2021/game-dev/part-i/healthchecking/>Health Bar</a></li><li data-nav-id=/learning-2021/game-dev/part-i/towervaliditychecking/ title="Tower Validity Checking" class=dd-item><a href=/learning-2021/game-dev/part-i/towervaliditychecking/>Tower Validity Checking</a></li></ul></li><li data-nav-id=/learning-2021/game-dev/part-ii/ title="Part II" class="dd-item parent"><a href=/learning-2021/game-dev/part-ii/><b>2.</b> Part II</a><ul><li data-nav-id=/learning-2021/game-dev/part-ii/introduction/ title=Introduction class=dd-item><a href=/learning-2021/game-dev/part-ii/introduction/>Introduction</a></li><li data-nav-id=/learning-2021/game-dev/part-ii/advancedtracking/ title="Advanced Tracking" class="dd-item active"><a href=/learning-2021/game-dev/part-ii/advancedtracking/>Advanced Tracking</a></li><li data-nav-id=/learning-2021/game-dev/part-ii/currency/ title="Currency System" class=dd-item><a href=/learning-2021/game-dev/part-ii/currency/>Currency System</a></li><li data-nav-id=/learning-2021/game-dev/part-ii/newtower/ title="New Towers" class=dd-item><a href=/learning-2021/game-dev/part-ii/newtower/>New Towers</a></li><li data-nav-id=/learning-2021/game-dev/part-ii/projectiles/ title=Projectiles class=dd-item><a href=/learning-2021/game-dev/part-ii/projectiles/>Projectiles</a></li></ul></li><li data-nav-id=/learning-2021/game-dev/part-iii/ title="Part III" class=dd-item><a href=/learning-2021/game-dev/part-iii/><b>3.</b> Part III</a><ul><li data-nav-id=/learning-2021/game-dev/part-iii/introduction/ title=Introduction class=dd-item><a href=/learning-2021/game-dev/part-iii/introduction/>Introduction</a></li><li data-nav-id=/learning-2021/game-dev/part-iii/currency/ title="More Currency" class=dd-item><a href=/learning-2021/game-dev/part-iii/currency/>More Currency</a></li><li data-nav-id=/learning-2021/game-dev/part-iii/upgrades/ title="Tower Upgrades" class=dd-item><a href=/learning-2021/game-dev/part-iii/upgrades/>Tower Upgrades</a></li><li data-nav-id=/learning-2021/game-dev/part-iii/userinterface/ title="User Interface" class=dd-item><a href=/learning-2021/game-dev/part-iii/userinterface/>User Interface</a></li><li data-nav-id=/learning-2021/game-dev/part-iii/makinglevels/ title="Making Levels" class=dd-item><a href=/learning-2021/game-dev/part-iii/makinglevels/>Making Levels</a></li><li data-nav-id=/learning-2021/game-dev/part-iii/pathcreationapi/ title="Path Creation API" class=dd-item><a href=/learning-2021/game-dev/part-iii/pathcreationapi/>Path Creation API</a></li><li data-nav-id=/learning-2021/game-dev/part-iii/powerups/ title=Powerups class=dd-item><a href=/learning-2021/game-dev/part-iii/powerups/>Powerups</a></li><li data-nav-id=/learning-2021/game-dev/part-iii/challenge/ title=Challenges class=dd-item><a href=/learning-2021/game-dev/part-iii/challenge/>Challenges</a></li></ul></li></ul></li><li data-nav-id=/learning-2021/game-jam/ title="Game Jam" class="dd-item alwaysopen"><a href=/learning-2021/game-jam/>Game Jam</a><ul><li data-nav-id=/learning-2021/game-jam/leaderboard/ title=Leaderboard class=dd-item><a href=/learning-2021/game-jam/leaderboard/>Leaderboard</a></li><li data-nav-id=/learning-2021/game-jam/tetris-workshop/ title="Tetris Workshop" class=dd-item><a href=/learning-2021/game-jam/tetris-workshop/>Tetris Workshop</a><ul><li data-nav-id=/learning-2021/game-jam/tetris-workshop/object-oriented-programming/ title="Object Oriented Programming" class=dd-item><a href=/learning-2021/game-jam/tetris-workshop/object-oriented-programming/>Object Oriented Programming</a></li><li data-nav-id=/learning-2021/game-jam/tetris-workshop/multi-dimensional-arrays/ title="Multi-Dimensional Arrays" class=dd-item><a href=/learning-2021/game-jam/tetris-workshop/multi-dimensional-arrays/>Multi-Dimensional Arrays</a></li><li data-nav-id=/learning-2021/game-jam/tetris-workshop/threads/ title=Multi-Threading class=dd-item><a href=/learning-2021/game-jam/tetris-workshop/threads/>Multi-Threading</a></li><li data-nav-id=/learning-2021/game-jam/tetris-workshop/tetris/ title=Tetris class=dd-item><a href=/learning-2021/game-jam/tetris-workshop/tetris/>Tetris</a></li></ul></li><li data-nav-id=/learning-2021/game-jam/jumpingphysics/ title="Jumping Physics Workshop" class=dd-item><a href=/learning-2021/game-jam/jumpingphysics/>Jumping Physics Workshop</a><ul><li data-nav-id=/learning-2021/game-jam/jumpingphysics/collisions/ title=Collisions class=dd-item><a href=/learning-2021/game-jam/jumpingphysics/collisions/>Collisions</a></li><li data-nav-id=/learning-2021/game-jam/jumpingphysics/jumpingphysics/ title="Jumping Physics" class=dd-item><a href=/learning-2021/game-jam/jumpingphysics/jumpingphysics/>Jumping Physics</a></li></ul></li><li data-nav-id=/learning-2021/game-jam/resources/ title=Resources class=dd-item><a href=/learning-2021/game-jam/resources/>Resources</a><ul><li data-nav-id=/learning-2021/game-jam/resources/github/ title="A Github Crash Course" class="dd-item alwaysopen"><a href=/learning-2021/game-jam/resources/github/>A Github Crash Course</a><ul></ul></li><li data-nav-id=/learning-2021/game-jam/resources/devpost-info/ title="Devpost Information" class="dd-item alwaysopen"><a href=/learning-2021/game-jam/resources/devpost-info/>Devpost Information</a><ul></ul></li><li data-nav-id=/learning-2021/game-jam/resources/tips/ title="Tips & Tricks" class="dd-item alwaysopen"><a href=/learning-2021/game-jam/resources/tips/>Tips & Tricks</a><ul></ul></li><li data-nav-id=/learning-2021/game-jam/resources/pitch/ title="Pitch Creation" class="dd-item alwaysopen"><a href=/learning-2021/game-jam/resources/pitch/>Pitch Creation</a><ul></ul></li></ul></li></ul></li><li data-nav-id=/learning-2021/lyon-hacks/ title=LyonHacks class="dd-item alwaysopen"><a href=/learning-2021/lyon-hacks/>LyonHacks</a><ul><li data-nav-id=/learning-2021/lyon-hacks/season-ii/ title="LyonHacks Season II" class="dd-item alwaysopen"><a href=/learning-2021/lyon-hacks/season-ii/>LyonHacks Season II</a><ul></ul></li><li data-nav-id=/learning-2021/lyon-hacks/legacy/ title="Legacy Events" class=dd-item><a href=/learning-2021/lyon-hacks/legacy/>Legacy Events</a><ul><li data-nav-id=/learning-2021/lyon-hacks/legacy/season-i/ title="Season I" class=dd-item><a href=/learning-2021/lyon-hacks/legacy/season-i/>Season I</a></li></ul></li></ul></li></ul></li><li data-nav-id=/learning-2022/ title="Learning 2022" class=dd-item><a href=/learning-2022/>Learning 2022</a><ul><li data-nav-id=/learning-2022/holiday-game-jam-ii/ title="Holiday Game Jam II " class="dd-item alwaysopen"><a href=/learning-2022/holiday-game-jam-ii/>Holiday Game Jam II</a><ul></ul></li><li data-nav-id=/learning-2022/web-development-workshop/ title="Web Dev Workshop" class="dd-item alwaysopen"><a href=/learning-2022/web-development-workshop/>Web Dev Workshop</a><ul><li data-nav-id=/learning-2022/web-development-workshop/running-html-files/ title="Opening HTML Files in Your Browser" class="dd-item alwaysopen"><a href=/learning-2022/web-development-workshop/running-html-files/>Opening HTML Files in Your Browser</a><ul></ul></li><li data-nav-id=/learning-2022/web-development-workshop/editing-html-files/ title="Editing HTML Files" class="dd-item alwaysopen"><a href=/learning-2022/web-development-workshop/editing-html-files/>Editing HTML Files</a><ul></ul></li></ul></li></ul></li></ul><div id=footer><a href=https://mcpt.ca/><p><object type=image/svg+xml data=/img/footer-icon.svg></object>
mcpt.ca</p></a><a href=https://github.com/mcpt/learning><p><i class="fab fa-github-alt"></i> source</p></a></div></div></nav><div id=body><div id=overlay></div><div class="padding highlightable"><div id=top-bar><div id=breadcrumbs><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="5"><a itemprop=item href=/><span itemprop=name>Home</span></a> ></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="4"><a itemprop=item href=/learning-2021/><span itemprop=name>Learning 2021</span></a> ></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3"><a itemprop=item href=/learning-2021/game-dev/><span itemprop=name>Game Series</span></a> ></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="2"><a itemprop=item href=/learning-2021/game-dev/part-ii/><span itemprop=name>Part II</span></a> ></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="1"><a itemprop=item href=/learning-2021/game-dev/part-ii/advancedtracking/ aria-disabled=true><span itemprop=name>Advanced Tracking</span></a></li></ol></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li><a href=#what-youll-learn>What You&rsquo;ll Learn</a></li><li><a href=#logic-for-the-procedure>Logic for the Procedure</a></li></ul></li></ul></nav></div></div></div><div id=head-tags></div><main id=body-inner><h1>Advanced Tracking</h1><hr><div class="attachments green"><div class=label>Part2_AdvancedTracking</div><ul class=attachments-files><li><a href=/Learning%202021/game-dev/part-ii/AdvancedTracking.files/Part2_AdvancedTracking.zip>Part2_AdvancedTracking.zip</a> (12 KB)</li></ul></div><h3 id=what-youll-learn>What You&rsquo;ll Learn</h3><p>Last session we implemented a function that rotated a tower to face a balloon based on the slope of the line made with a balloon and tower. Today we will implement a more representative procedure, which will make a tower face a balloon that is within hit radius, and is also the farthest along the path.</p><h5 id=key-concepts>Key Concepts</h5><ol><li>Using a function that processes inputs to create an output</li><li>Implementing tower range</li><li>Implementing a filtering mechanism that will get the right balloon</li></ol><p>Remember that in Processing, Y values increase as you move <em>down the window</em>. Therefore, the origin (0,0) is at the top-left corner of the window.</p><h3 id=logic-for-the-procedure>Logic for the Procedure</h3><p>Every function has an input, a process, and a resulting output. The function we are making today is no different. First, let’s consider inputs. Since this function is trying to find a balloon within a tower’s hit radius, we will need the tower’s coordinates, the tower&rsquo;s hit-radius, and a list (array) of all the balloons to scan. The output is pretty straightforward; just the coordinates of the balloon we want. With this in mind, our function looks something like this.</p><p><img src=/img/Function.png alt=Interface></p><p>Now we need to come up with the code that will process these inputs and spit out the correct balloon location. Remember, this function must 1. Find the balloons in range, and 2. Find the one in this group that is farthest along the path. In other words, we have to come up with a filtering mechanism that can be applied to each balloon and give the one that satisfies these requirements. Knowing this now, we can start coding our function.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>PVector <span style=color:#a6e22e>track</span><span style=color:#f92672>(</span>PVector towerLocation<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> vision<span style=color:#f92672>,</span> ArrayList<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>float</span><span style=color:#f92672>[]&gt;){</span>
</span></span><span style=display:flex><span>  PVector location <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  Cycle through all balloons<span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>distance between tower coordinates <span style=color:#f92672>&amp;</span> balloon coordinates <span style=color:#f92672>&lt;=</span> vision<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>the balloon is<span style=color:#f92672>,</span> so far<span style=color:#f92672>,</span> the farthest along one we have seen<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>        location <span style=color:#f92672>=</span> balloonLocation<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> location<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><h5 id=implementation>Implementation!</h5><p>Lets translate this into real processing code with our program’s global variables and methods, as well as a few extra variables to keep track of the furthest distance travelled across the balloons we have seen.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>PVector <span style=color:#a6e22e>track</span><span style=color:#f92672>(</span>PVector towerLocation<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> vision<span style=color:#f92672>,</span> ArrayList<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>float</span><span style=color:#f92672>[]&gt;){</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>int</span> maxDist <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  PVector location <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>float</span><span style=color:#f92672>[]</span> balloon<span style=color:#f92672>:</span> balloons<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>    PVector balloonLocation <span style=color:#f92672>=</span> getLocation<span style=color:#f92672>(</span>balloon<span style=color:#f92672>[</span>distanceTravelled<span style=color:#f92672>]);</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>dist<span style=color:#f92672>(</span>balloonLocation<span style=color:#f92672>.</span><span style=color:#a6e22e>x</span><span style=color:#f92672>,</span> balloonLocation<span style=color:#f92672>.</span><span style=color:#a6e22e>y</span><span style=color:#f92672>,</span>towerLocation<span style=color:#f92672>.</span><span style=color:#a6e22e>x</span><span style=color:#f92672>,</span>towerLocation<span style=color:#f92672>.</span><span style=color:#a6e22e>y</span><span style=color:#f92672>)</span> <span style=color:#f92672>&lt;=</span> vision<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>balloon<span style=color:#f92672>[</span>distanceTravelled<span style=color:#f92672>]</span> <span style=color:#f92672>&gt;</span> maxDist<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>        location <span style=color:#f92672>=</span> balloonLocation<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        maxDist <span style=color:#f92672>=</span> balloon<span style=color:#f92672>[</span>distanceTravelled<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> location<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>The first new addition we’ll look at is the 4th line in the function that uses the getLocation() function. All balloons can be represented by an array (or list) of numeric values that describe its properties, and one index (or position in the list) stores the journey length of each balloon. You can think of it as storing the number of steps the balloon has taken on the path. However, we need a way to translate this number of steps to actual coordinates. This is done by simply using the getLocation() function.</p><p>We also added the maxDist variable. This is a dynamic/changing value that will update once a new balloon is found to have a greater journey length than previous balloons. When a balloon like this is found, the journey length of it (which is essentially measured in the number of “steps” the balloon has made) is stored in this variable, and “location” has this balloon’s location assigned to it. Because maxDist starts at 0, the first balloon to pass the first filter will have its journey length/steps assigned to the maxDist variable. The 2nd, 3rd, 4th, ect. a balloon must then have a longer journey length to pass through the 2nd “if” to store its location data into the location variable. In other words, the next balloon must &ldquo;beat&rdquo; the previous balloon in terms of journey length. If any of them do, their distance travelled will then be assigned to maxDist. The result is a competition-inducing piece of code that will always end up storing the balloon with the longest path, which is exactly what we want.</p><p>And there you go! Now that we have determined the balloon that the tower should point at, we can run it through the tower rotation function we created last session. Now, towers will always point to the balloons within their hit radius that are farthest along the path.</p><footer class=footline></footer></main></div><div id=navigation><a class="nav nav-prev" href=/learning-2021/game-dev/part-ii/introduction/ title=Introduction><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/learning-2021/game-dev/part-ii/currency/ title="Currency System"><i class="fa fa-chevron-right"></i></a></div></div><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1672033900></script>
<script src=/js/perfect-scrollbar.min.js?1672033900></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1672033900></script>
<script src=/js/jquery.svg.pan.zoom.js?1672033900></script>
<script src=/js/featherlight.min.js?1672033900></script>
<script src=/js/modernizr.custom-3.6.0.js?1672033900></script>
<script src=/js/mermaid.min.js?1672033900></script>
<script>typeof mermaid!="undefined"&&typeof mermaid.mermaidAPI!="undefined"&&mermaid.mermaidAPI.initialize(Object.assign({securityLevel:"antiscript"},JSON.parse('{ "startOnLoad": true }'),{startOnLoad:!1}))</script><script src=/js/relearn.js?1672033900></script></body></html>